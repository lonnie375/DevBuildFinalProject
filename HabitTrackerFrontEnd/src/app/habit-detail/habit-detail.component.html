<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />
  </head>




    <div class="container">
        <div class="row">
            <div class="col-sm">
                <ng-container *ngIf="!editMode">
                
                    <h3><strong>{{habit.title}}</strong></h3> 
                    
                
                    <ng-container *ngFor="let cat of CategoryList">

                        <ng-container *ngIf="habit.category_id == cat.id">
                        <p>{{cat.type}}</p> 
                        </ng-container>
                    
                    </ng-container>
                
                <p>{{habit.amount}} </p>
                <p>{{habit.startDate | date : 'shortDate' }}</p>
                <p>{{habit.endDate   | date : 'shortDate' }}</p>
                <p>{{habit.description}}</p>
                
                
                <button (click)="editHabit()"><fa-icon [icon]="faEdit" size="2x"></fa-icon></button>
                <button (click)="deleteHabit()"><fa-icon [icon]="faTrashCan" size="2x"></fa-icon></button>
                    
                </ng-container>

                <!----------------EDIT FORM-------------------->

                <ng-container *ngIf="editMode">
                    <input type="text" [(ngModel)]="editTitle"><br>

                    <select [(ngModel)]="editCategory_id" >
                        <option *ngFor="let cat of CategoryList" [value]="cat.id">{{cat.type}}</option>
                    </select><br>

                    <input type="text" [(ngModel)]="editAmount"> <br />
                    <input type="date" [(ngModel)]='editStartDate'  ><br>
                    <input type="date" [(ngModel)]='editEndDate'><br>
                    <input type="text" [(ngModel)]="editDescription"><br>

                    <tr><Button (click)="saveEdit()"><fa-icon [icon]="faFloppyDisk" size="2x"></fa-icon></Button>
                        <Button (click)="cancelEdit()"><fa-icon [icon]="faXmarkCircle" size="2x"></fa-icon></Button></tr>
                
                </ng-container>
            </div>

            <div *ngIf="!editMode" class="col-3">
                <ng-container *ngIf="!checkmarkStatus">
                    <button (click)="updateTracker()" ><fa-icon [icon]="faCheckCircle" size="5x" ></fa-icon></button>
                </ng-container>
                <ng-container *ngIf="checkmarkStatus">
                    <button (click)="updateTracker()" ><fa-icon [icon]="faCircleCheck" size="5x"></fa-icon></button>
                </ng-container>
            </div>

            <app-habit-calendar-bar [habit]="habit"></app-habit-calendar-bar>
    </div>





</div>

  